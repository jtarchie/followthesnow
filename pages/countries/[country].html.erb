<!--
---
title: Regions by <%= country %>
description: List of regions by <%= country %>.
---
-->

<div class="text-sm breadcrumbs mb-4">
  <ul>
    <li><a href="/">All</a></li>
    <li>
      <%= h country %>
    </li>
  </ul>
</div>

<div class="mb-6">
  <div class="flex justify-between items-center mb-2">
    <h2 class="text-2xl font-semibold" id="<%= country.parameterize %>">
      <%= h country %>
      <% if country_has_snow?(country) %>
        <span class="snow-badge ml-2">
          ❄️ <%= country_snow_count(country) %> (<%= format_snow_total(total_snow_for_country(country)) %>)
        </span>
      <% end %>
    </h2>
    <label class="flex items-center gap-2 cursor-pointer">
      <input type="checkbox" id="filter-snow-toggle" class="toggle toggle-primary" />
      <span class="label-text">Show only with snow ❄️</span>
    </label>
  </div>
  <a href="/countries/<%= country.parameterize %>-snow-now" class="link link-primary text-sm">
    ❄️ View Snow Now Report
  </a>
</div>

<ul class="list-disc pl-5 space-y-2">
  <% states(country: country).each do |state| %>
    <li class="flex items-center gap-2" data-has-snow="<%= state_has_snow?(state) %>">
      <a href="/states/<%= state.parameterize %>" class="flex-grow">
        <%= h state %>
      </a>
      <% if state_has_snow?(state) %>
        <span class="snow-badge">
          ❄️ <%= state_snow_count(state) %> (<%= format_snow_total(total_snow_for_state(state)) %>)
        </span>
      <% end %>
    </li>
    <% end %>
</ul>